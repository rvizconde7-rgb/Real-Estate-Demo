<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PrairieNest Realty — Winnipeg Homes</title>
  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="Dummy Winnipeg real estate site for AI assistant demo." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root { --brand:#1f6feb; --brand-dark:#154ea6; }
    html,body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    /* Simple fade/slide for chat panel */
    .chat-panel{transform:translateY(10px);opacity:0;pointer-events:none;transition:all .25s ease}
    .chat-panel.open{transform:translateY(0);opacity:1;pointer-events:auto}
    /* Mock chat container to mount external widget */
    #chat-mount iframe{width:100%!important;height:100%!important;border:0}
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <!-- Top Bar -->
  <header class="bg-white/80 backdrop-blur border-b border-slate-200 sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-xl bg-[var(--brand)] grid place-items-center text-white font-extrabold">PN</div>
        <div>
          <div class="font-semibold">PrairieNest Realty</div>
          <div class="text-xs text-slate-500 -mt-1">Winnipeg • Residential</div>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#listings" class="hover:text-[var(--brand)]">Listings</a>
        <a href="#about" class="hover:text-[var(--brand)]">About</a>
        <a href="#contact" class="hover:text-[var(--brand)]">Contact</a>
      </nav>
      <button id="openChat" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-[var(--brand)] text-white hover:bg-[var(--brand-dark)] shadow-sm">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v8z"/></svg>
        Ask Sarah
      </button>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative isolate overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24 grid lg:grid-cols-2 gap-10 items-center">
      <div>
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">Find your next home in <span class="text-[var(--brand)]">Winnipeg</span></h1>
        <p class="mt-4 text-slate-600 text-lg">Simple demo site to showcase an AI real estate assistant. Filter listings, read details, and chat with <span class="font-semibold">Sarah’s AI Assistant</span> for availability, pricing, or to book a showing.</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="#listings" class="px-5 py-3 rounded-xl bg-slate-900 text-white hover:bg-slate-800">Browse Listings</a>
          <button id="openChat2" class="px-5 py-3 rounded-xl border border-slate-300 hover:border-slate-400">Chat with Sarah</button>
        </div>
        <div class="mt-8 grid grid-cols-3 gap-6 text-sm">
          <div class="p-4 bg-white rounded-2xl shadow-sm border"><div class="font-semibold">Local Focus</div><div class="text-slate-500 mt-1">St. Vital, River Heights, Osborne & more</div></div>
          <div class="p-4 bg-white rounded-2xl shadow-sm border"><div class="font-semibold">Fast Answers</div><div class="text-slate-500 mt-1">Availability checks & bookings</div></div>
          <div class="p-4 bg-white rounded-2xl shadow-sm border"><div class="font-semibold">Human Voice</div><div class="text-slate-500 mt-1">Powered by ElevenLabs</div></div>
        </div>
      </div>
      <div class="relative">
        <div class="aspect-[4/3] rounded-3xl overflow-hidden shadow-lg border bg-white">
          <img src="https://images.unsplash.com/photo-1502005229762-cf1b2da7c52f?q=80&w=1600&auto=format&fit=crop" alt="Modern Winnipeg home" class="w-full h-full object-cover"/>
        </div>
      </div>
    </div>
  </section>

  <!-- Filters -->
  <section id="listings" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <div class="flex items-end justify-between gap-6 flex-wrap">
      <div>
        <h2 class="text-2xl md:text-3xl font-bold">Featured Listings</h2>
        <p class="text-slate-500 mt-1 text-sm">Demo data. Filter locally and click a card to view details.</p>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-6 gap-3 w-full md:w-auto">
        <div>
          <label class="text-xs text-slate-500">Min Price</label>
          <input id="minPrice" type="number" placeholder="300000" class="w-full mt-1 px-3 py-2 rounded-xl border" />
        </div>
        <div>
          <label class="text-xs text-slate-500">Max Price</label>
          <input id="maxPrice" type="number" placeholder="700000" class="w-full mt-1 px-3 py-2 rounded-xl border" />
        </div>
        <div>
          <label class="text-xs text-slate-500">Beds</label>
          <select id="beds" class="w-full mt-1 px-3 py-2 rounded-xl border">
            <option value="">Any</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
          </select>
        </div>
        <div>
          <label class="text-xs text-slate-500">Neighborhood</label>
          <select id="hood" class="w-full mt-1 px-3 py-2 rounded-xl border">
            <option value="">All</option>
            <option>St. Vital</option>
            <option>River Heights</option>
            <option>Osborne Village</option>
            <option>Tuxedo</option>
            <option>Elmwood</option>
            <option>Crescentwood</option>
            <option>East Kildonan</option>
          </select>
        </div>
        <button id="applyFilters" class="mt-6 px-4 py-2 rounded-xl bg-[var(--brand)] text-white hover:bg-[var(--brand-dark)]">Apply</button>
        <button id="resetFilters" class="mt-6 px-4 py-2 rounded-xl border">Reset</button>
      </div>
    </div>

    <!-- Cards grid -->
    <div id="cards" class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </section>

  <!-- About -->
  <section id="about" class="bg-white border-t border-slate-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 grid lg:grid-cols-2 gap-10 items-center">
      <div class="order-2 lg:order-1">
        <h3 class="text-2xl md:text-3xl font-bold">Meet Sarah — your Winnipeg AI assistant</h3>
        <p class="mt-3 text-slate-600">Ask about availability, price, neighborhoods, or book a showing. For the demo, replies are generated by an AI model; in production, it can check MLS, update Airtable, and sync with Google Calendar.</p>
        <ul class="mt-6 space-y-2 text-slate-700">
          <li>• Availability checks with smart follow-ups</li>
          <li>• Buyer/Seller qualification with lead scoring</li>
          <li>• Auto-logging to Airtable</li>
          <li>• Optional voice replies via ElevenLabs</li>
        </ul>
      </div>
      <div class="order-1 lg:order-2">
        <div class="aspect-video rounded-3xl overflow-hidden shadow-lg border bg-white">
          <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=1600&auto=format&fit=crop" class="w-full h-full object-cover" alt="Realtor meeting"/>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 grid lg:grid-cols-2 gap-10">
      <div>
        <h3 class="text-2xl md:text-3xl font-bold">Questions? Get in touch.</h3>
        <p class="mt-2 text-slate-600">Prefer a human? Send us a note and we’ll reach out.</p>
        <form onsubmit="event.preventDefault(); alert('Demo: form captured. In production, submit to Airtable or email.');" class="mt-6 space-y-4 max-w-md">
          <input required placeholder="Full name" class="w-full px-4 py-3 rounded-xl border" />
          <input required type="email" placeholder="Email" class="w-full px-4 py-3 rounded-xl border" />
          <textarea placeholder="Message" rows="4" class="w-full px-4 py-3 rounded-xl border"></textarea>
          <button class="px-5 py-3 rounded-xl bg-slate-900 text-white hover:bg-slate-800">Send</button>
        </form>
      </div>
      <div class="bg-white border rounded-3xl p-6 shadow-sm">
        <h4 class="font-semibold">How to plug the ElevenLabs chat</h4>
        <ol class="list-decimal ml-5 mt-2 text-sm text-slate-600 space-y-2">
          <li>Add your ElevenLabs widget/agent script <strong>before</strong> the closing <code>&lt;/body&gt;</code> tag.</li>
          <li>Mount the widget into <code>#chat-mount</code> inside the chat panel, or replace the panel with the vendor-provided bubble.</li>
          <li>If your SDK exposes an <code>init()</code>/<code>render()</code> function, call it after <code>DOMContentLoaded</code>.</li>
        </ol>
        <pre class="mt-4 text-xs bg-slate-900 text-white p-4 rounded-xl overflow-auto"><code>// Example (pseudo):
// &lt;script src="https://cdn.elevenlabs.io/agent.js"&gt;&lt;/script&gt;
// window.ElevenAgent.render({ target: '#chat-mount', agentId: 'YOUR_AGENT_ID' });
</code></pre>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col md:flex-row items-center justify-between gap-3 text-sm text-slate-500">
      <div>© <span id="year"></span> PrairieNest Realty (Demo)</div>
      <div class="flex items-center gap-4">
        <a href="#" class="hover:text-slate-700">Privacy</a>
        <a href="#" class="hover:text-slate-700">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Floating Chat Panel -->
  <div id="chatPanel" class="chat-panel fixed right-4 bottom-24 w-full sm:w-[380px] h-[560px] max-h-[80vh] bg-white border rounded-3xl shadow-2xl overflow-hidden z-50">
    <div class="h-12 bg-slate-900 text-white flex items-center justify-between px-4">
      <div class="font-semibold">Sarah — AI Assistant</div>
      <button id="closeChat" class="text-white/80 hover:text-white">✕</button>
    </div>
    <div id="chat-mount" class="h-[calc(100%-48px)]">
      <!-- ⚠️ ELEVENLABS: PASTE/RENDER YOUR WIDGET INTO #chat-mount -->
      <!-- Fallback demo chat if widget is not mounted -->
      <iframe title="demo-chat" srcdoc='<!DOCTYPE html><html><head><meta charset="utf-8"><style>body{font:14px system-ui;margin:0;background:#0b1220;color:#fff} .wrap{display:flex;align-items:center;justify-content:center;height:100vh} .card{background:#111827;border-radius:16px;padding:24px;width:90%;max-width:320px;border:1px solid #334155} .b{font-weight:700} .p{opacity:.7;margin-top:6px}</style></head><body><div class="wrap"><div class="card"><div class="b">AI chat not loaded</div><div class="p">Replace this iframe by rendering the ElevenLabs agent into <code>#chat-mount</code>.</div></div></div></body></html>' style="width:100%;height:100%;border:0"></iframe>
    </div>
  </div>

  <!-- Floating Chat Button -->
  <button id="fab" class="fixed right-4 bottom-4 rounded-full w-14 h-14 grid place-items-center bg-[var(--brand)] hover:bg-[var(--brand-dark)] text-white shadow-xl z-40">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4v8z"/></svg>
  </button>

  <!-- Data + Script -->
  <script>
    const listings = [
      { address:"23 St. Anne’s Rd", hood:"St. Vital", price:429900, beds:3, baths:2, img:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?q=80&w=1600&auto=format&fit=crop", status:"Available", desc:"Modern open-concept 3-bed with quartz kitchen, finished basement, and large backyard.", agent:"Sarah Lee", email:"sarah@realtor.ca" },
      { address:"17 River Heights Blvd", hood:"River Heights", price:589000, beds:4, baths:3, img:"https://images.unsplash.com/photo-1570129477492-45c003edd2be?q=80&w=1600&auto=format&fit=crop", status:"Available", desc:"Spacious family home with hardwood floors and double garage in prime River Heights.", agent:"Sarah Lee", email:"sarah@realtor.ca" },
      { address:"88 Osborne St", hood:"Osborne Village", price:369500, beds:2, baths:1, img:"https://images.unsplash.com/photo-1512914890250-4d7a4c7425f4?q=80&w=1600&auto=format&fit=crop", status:"Available", desc:"Cozy condo near cafes and shops, perfect for young professionals.", agent:"Mark Daniels", email:"mark@realtor.ca" },
      { address:"45 Waverley St", hood:"Tuxedo", price:649000, beds:4, baths:3, img:"https://images.unsplash.com/photo-1560185008-b033106af2d0?q=80&w=1600&auto=format&fit=crop", status:"Pending", desc:"Luxury home with open kitchen, stone countertops, and walkout patio.", agent:"Sarah Lee", email:"sarah@realtor.ca" },
      { address:"9 Henderson Hwy", hood:"Elmwood", price:319000, beds:3, baths:1, img:"https://images.unsplash.com/photo-1600585154526-990dced4db0d?q=80&w=1600&auto=format&fit=crop", status:"Available", desc:"Affordable starter home close to schools and parks.", agent:"Mark Daniels", email:"mark@realtor.ca" },
      { address:"120 Corydon Ave", hood:"Crescentwood", price:479900, beds:3, baths:2, img:"https://images.unsplash.com/photo-1622015663319-5e13c59f8d39?q=80&w=1600&auto=format&fit=crop", status:"Sold", desc:"Stylish character home with modern upgrades and private backyard.", agent:"Sarah Lee", email:"sarah@realtor.ca" },
      { address:"202 Kildonan Dr", hood:"East Kildonan", price:529000, beds:4, baths:3, img:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=1600&auto=format&fit=crop", status:"Available", desc:"Riverside property with finished basement and sunroom.", agent:"Mark Daniels", email:"mark@realtor.ca" },
    ];

    const cardsEl = document.getElementById('cards');
    const render = (items) => {
      cardsEl.innerHTML = items.map((p,i)=>`
        <article class="bg-white border rounded-3xl overflow-hidden shadow-sm hover:shadow-md transition">
          <img src="${p.img}" alt="${p.address}" class="h-48 w-full object-cover"/>
          <div class="p-4">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold text-lg">${p.address}</h3>
              <span class="text-xs px-2 py-1 rounded-full border ${p.status==='Available'?'text-green-700 border-green-200 bg-green-50':''} ${p.status==='Pending'?'text-amber-700 border-amber-200 bg-amber-50':''} ${p.status==='Sold'?'text-slate-700 border-slate-200 bg-slate-50':''}">${p.status}</span>
            </div>
            <div class="text-slate-500 text-sm">${p.hood} • ${p.beds} bd • ${p.baths} ba</div>
            <div class="mt-2 font-bold text-xl">$${p.price.toLocaleString()}</div>
            <p class="mt-2 text-slate-600 text-sm line-clamp-2">${p.desc}</p>
            <div class="mt-4 flex items-center justify-between">
              <button class="px-3 py-2 rounded-xl bg-[var(--brand)] text-white hover:bg-[var(--brand-dark)]" onclick="openChatWith('${p.address}')">Ask About This</button>
              <button class="px-3 py-2 rounded-xl border" onclick="alert('Demo only: would open details/MLS for ${p.address}.')">View</button>
            </div>
          </div>
        </article>
      `).join('');
    };

    // Filters
    const minPrice = document.getElementById('minPrice');
    const maxPrice = document.getElementById('maxPrice');
    const beds = document.getElementById('beds');
    const hood = document.getElementById('hood');
    document.getElementById('applyFilters').addEventListener('click', ()=>{
      const min = parseInt(minPrice.value||0,10);
      const max = parseInt(maxPrice.value||1e9,10);
      const b = beds.value;
      const h = hood.value;
      const out = listings.filter(p=> p.price>=min && p.price<=max && (!b || p.beds==b) && (!h || p.hood===h));
      render(out);
    });
    document.getElementById('resetFilters').addEventListener('click', ()=>{
      minPrice.value = '';
      maxPrice.value = '';
      beds.value = '';
      hood.value = '';
      render(listings);
    });

    // Chat panel controls
    const chat = document.getElementById('chatPanel');
    const openers = [document.getElementById('fab'), document.getElementById('openChat'), document.getElementById('openChat2')];
    openers.forEach(btn=> btn && btn.addEventListener('click', ()=> chat.classList.add('open')));
    document.getElementById('closeChat').addEventListener('click', ()=> chat.classList.remove('open'));

    // Helper to seed the chat with context (for your agent prompt)
    window.openChatWith = (address)=>{
      chat.classList.add('open');
      // If your ElevenLabs widget supports prefill, inject `address` here.
      // Example (pseudo): window.ElevenAgent.send({ type:'context', text:`User is asking about ${address}` });
      alert(`Demo: opening chat about ${address}. In production, send this as context to your agent.`);
    };

    // Init
    render(listings);
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- ⬇️ ELEVENLABS: PASTE YOUR WIDGET/AGENT SCRIPT RIGHT BELOW THIS LINE ⬇️ -->
  <!-- <script src="https://cdn.elevenlabs.io/agent.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', ()=>{
      // Example only. Replace with the real API per ElevenLabs docs.
      // window.ElevenAgent.render({ target:'#chat-mount', agentId:'YOUR_AGENT_ID' });
    });
  </script> -->
  <!-- ⬆️ ELEVENLABS: END WIDGET AREA ⬆️ -->
</body>
</html>
